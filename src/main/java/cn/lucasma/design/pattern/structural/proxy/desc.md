### 代理模式

定义： 为其他对象提供一种代理，以控制对整个对象的访问。

代理对象在客户端和目标对象之间到中介的作用  eg. 房产中介

适用场景

> * 保护目标对象 找中介租房，一般是见不到房东的
> * 增强目标对象 范围比较大，就租房这个行为来说，也是增强目标对象


优点

> * 代理模式能将代理对象和真实被调用的目标对象分离
> * 在一定程度上降低了系统的耦合度，扩展性好
> * 保护目标对象
> * 增强目标对象

缺点

> * 会造成系统设计中类的增加
> * 在客户端和目标对象之间增加一个代理对象，会造成请求速度减慢 
> * 增加了系统的复杂度

扩展

> * 静态代理
    【代码中显示指定的代理】
> * 动态代理
    【jdk中的动态代理只能对实现接口的类生成代理，动态代理无法代理类，可以代理接口】
> * CGLib 代理
    【可以代理类，对类实现进行代理，原理是，cglib 生成一个代理类的子类覆盖其中的方法
    ，继承实现。  
    要注意 final 关键字，如果这个类是 final 的，那么是无法被继承的；如果不是final 类
    但是类中的方法是 final的，那么这个方法也是无法被重写的，这里要注意的。】
    
> * Spring 代理选择 【当 Bean 有实现接口时，Spring 就会用 JDK 的动态代理；  
                    当 Bean 没有实现接口时，Spring 就会用 cglib；  
                    强制使用 cglib
                    ```在Spring 中加入 <aop:aspectj-autoproxy proxy-target-class="true"/>```】 
                    
> * 代理速度对比 



代理模式相关设计模式

代理模式 vs 装饰者模式
* 实现上相似，但是目的不同，前者是控制访问，更加注重通过代理人的方式增强目标对象，后者是为对象加上行为                                          

代理模式 vs 适配器模式

* 前者是不能改变所代理类的接口，后者主要改变所要考虑对象的接口